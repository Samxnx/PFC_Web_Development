{"ast":null,"code":"var _jsxFileName = \"/Users/rohanchaudhari/Downloads/react-red-onion-restaurant-master/src/components/FoodDetails/FoodDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport demoData from \"../../demoData\";\nimport FoodDetailsCard from \"../FoodDetailsCard/FoodDetailsCard\";\nimport CartHidden from \"../CartHidden/CartHidden\";\nimport { addToDatabaseCart, getDatabaseCart } from \"../../utilities/databaseManager\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n/**\n * FoodDetails provides details of food\n * select food according food key or route param dynamically\n * comes from 'FoodCategory' component (/food/details/+title)\n * { title } = useParams()// provides data from App.js accord to route (/food/details/+title)\n */\nconst FoodDetails = () => {\n  _s();\n  const {\n    keys\n  } = useParams();\n  const findFood = demoData.filter(find => find.keys === keys);\n  const [findFoodDetails, setFindFood] = useState(findFood);\n  const [cart, setCart] = useState([]);\n  /**\n   * {findFood} finds data accord to {title} route param from demoData or database demo\n   * !!Needs to improve!!\n   */\n  const notify = () => toast(\"Item added to cart!\");\n  useEffect(() => {\n    //useEffect here to load data from local storage\n    const getSavedDataFromLS = getDatabaseCart();\n    const itemKeys = Object.keys(getSavedDataFromLS);\n    //retrive ls data key and match with demoData key\n    //find all matches and get data\n    const cartProducts = itemKeys.map(key => {\n      const product = demoData.find(fd => fd.keys === key);\n      // console.log(product)\n      product.quantity = getSavedDataFromLS[key];\n      return product;\n    });\n    setCart(cartProducts);\n  }, []);\n  /**\n   * handleAddToCart = (foodItem) - to send clicked item to cart\n   */\n  const handleAddToCart = foodItem => {\n    const productToBeAdded = foodItem.keys;\n    const sameProduct = cart.find(item => item.keys === productToBeAdded);\n    let count = 1;\n    let newCart;\n    if (sameProduct) {\n      notify();\n      count = sameProduct.quantity + 1;\n      sameProduct.quantity = count;\n      const others = cart.filter(item => item.keys !== productToBeAdded);\n      newCart = [...others, sameProduct];\n    } else {\n      notify();\n      foodItem.quantity = 1;\n      newCart = [...cart, foodItem];\n    }\n    setCart(newCart);\n    addToDatabaseCart(foodItem.keys, count);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"food-details-container float-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, findFoodDetails.map(details => /*#__PURE__*/React.createElement(FoodDetailsCard, {\n    key: details.keys,\n    handleAddToCart: handleAddToCart,\n    findFoodDetails: details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }))\n  /**\n   * findFoodDetails.map - to find all details of {findFood}\n   * sends data to 'FoodDetailsCard' component\n   */), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-hidden-container float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CartHidden, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }))));\n};\n_s(FoodDetails, \"spdVuUhuCjeUOhPiwJyBPmBko6Q=\", false, function () {\n  return [useParams];\n});\n_c = FoodDetails;\nexport default FoodDetails;\nvar _c;\n$RefreshReg$(_c, \"FoodDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","demoData","FoodDetailsCard","CartHidden","addToDatabaseCart","getDatabaseCart","ToastContainer","toast","FoodDetails","_s","keys","findFood","filter","find","findFoodDetails","setFindFood","cart","setCart","notify","getSavedDataFromLS","itemKeys","Object","cartProducts","map","key","product","fd","quantity","handleAddToCart","foodItem","productToBeAdded","sameProduct","item","count","newCart","others","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","details","style","display","_c","$RefreshReg$"],"sources":["/Users/rohanchaudhari/Downloads/react-red-onion-restaurant-master/src/components/FoodDetails/FoodDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport demoData from \"../../demoData\";\nimport FoodDetailsCard from \"../FoodDetailsCard/FoodDetailsCard\";\nimport CartHidden from \"../CartHidden/CartHidden\";\nimport { addToDatabaseCart, getDatabaseCart } from \"../../utilities/databaseManager\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n/**\n * FoodDetails provides details of food\n * select food according food key or route param dynamically\n * comes from 'FoodCategory' component (/food/details/+title)\n * { title } = useParams()// provides data from App.js accord to route (/food/details/+title)\n */\nconst FoodDetails = () => {\n  const { keys } = useParams();\n  const findFood = demoData.filter((find) => find.keys === keys);\n  const [findFoodDetails, setFindFood] = useState(findFood);\n  const [cart,setCart] = useState([]);\n  /**\n   * {findFood} finds data accord to {title} route param from demoData or database demo\n   * !!Needs to improve!!\n   */\n  const notify = () => toast(\"Item added to cart!\");\n  useEffect(()=>{\n//useEffect here to load data from local storage\nconst getSavedDataFromLS = getDatabaseCart();\nconst itemKeys = Object.keys(getSavedDataFromLS);\n//retrive ls data key and match with demoData key\n//find all matches and get data\nconst cartProducts = itemKeys.map((key) => {\n  const product = demoData.find((fd) => fd.keys === key);\n  // console.log(product)\n  product.quantity = getSavedDataFromLS[key];\n  return product;\n});\nsetCart(cartProducts);\n  },[])\n/**\n * handleAddToCart = (foodItem) - to send clicked item to cart\n */\nconst handleAddToCart = (foodItem) => {\n  const productToBeAdded = foodItem.keys;\n  const sameProduct = cart.find(item=>item.keys===productToBeAdded);\n  let count = 1;\n  let newCart;\n  if(sameProduct){\n    notify();\n    count = sameProduct.quantity+1;\n    sameProduct.quantity=count;\n    const others = cart.filter ((item=>item.keys!==productToBeAdded));\n    newCart=[...others,sameProduct];\n  }else{\n    notify();\n    foodItem.quantity = 1;\n    newCart=[...cart,foodItem];\n  }\n  setCart(newCart)\n  addToDatabaseCart(foodItem.keys,count);\n };\n  return (\n   <div className=\"py-5\">\n      <div className=\"food-details-container float-left\">\n      {\n        findFoodDetails.map((details) => (\n          <FoodDetailsCard\n            key={details.keys}\n            handleAddToCart={handleAddToCart}\n            findFoodDetails={details}\n          ></FoodDetailsCard>\n        ))\n        /**\n         * findFoodDetails.map - to find all details of {findFood}\n         * sends data to 'FoodDetailsCard' component\n         */\n      }\n    </div>\n   <div style={{display:'none'}}>\n   <div className=\"cart-hidden-container float-right\">\n        <CartHidden cart={cart}></CartHidden>\n    </div>\n   </div>\n   </div>\n  );\n};\n\nexport default FoodDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}