{"ast":null,"code":"var _jsxFileName = \"/Users/rohanchaudhari/Downloads/react-red-onion-restaurant-master/src/components/CartReview/CartReview.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getDatabaseCart, removeFromDatabaseCart } from \"../../utilities/databaseManager\";\nimport demoData from \"../../demoData\";\nimport CartReviewItem from \"../CartReviewItem/CartReviewItem\";\nimport CartHidden from \"../CartHidden/CartHidden\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { collection, addDoc } from \"firebase/firestore\";\nimport fireStoreDB from \"../../firebase\";\nconst CartReview = () => {\n  _s();\n  const [cart, setCart] = useState([]);\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [delivery, setDelivery] = useState(\"\");\n  const [total, setTotal] = useState(grandTotal);\n  const removeItem = productKey => {\n    console.log(\"removed\", productKey);\n    const newRemoveCart = cart.filter(pd => pd.keys !== productKey);\n    setCart(newRemoveCart);\n    removeFromDatabaseCart(productKey);\n  };\n  useEffect(() => {\n    //useEffect here to load data from local storage\n    const getSavedDataFromLS = getDatabaseCart();\n    const itemKeys = Object.keys(getSavedDataFromLS);\n    //retrive ls data key and match with demoData key\n    //find all matches and get data\n    const cartProducts = itemKeys.map(key => {\n      const product = demoData.find(fd => fd.keys === key);\n      // console.log(product)\n      product.quantity = getSavedDataFromLS[key];\n      return product;\n    });\n    setCart(cartProducts);\n  }, []);\n  const handleClick = async () => {\n    try {\n      const docRef = await addDoc(collection(fireStoreDB, \"orders\"), {\n        address,\n        phone,\n        delivery,\n        orders: cart,\n        total\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Budhwarpeth\",\n    onChange: e => setAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    placeholder: \"088\",\n    onChange: e => setPhone(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Delivery Details\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: \"3\",\n    onChange: e => setDelivery(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-danger\",\n    size: \"lg\",\n    block: true,\n    onClick: () => handleClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Save & Continue\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }\n  }, cart.map(pd => /*#__PURE__*/React.createElement(CartReviewItem, {\n    removeItem: removeItem,\n    foodsToReview: pd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 16\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CartHidden, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }))));\n};\n_s(CartReview, \"08dQSzvlNXG5OMF4Ybcgzidq75o=\");\n_c = CartReview;\nexport default CartReview;\nvar _c;\n$RefreshReg$(_c, \"CartReview\");","map":{"version":3,"names":["React","useEffect","useState","getDatabaseCart","removeFromDatabaseCart","demoData","CartReviewItem","CartHidden","Form","Button","collection","addDoc","fireStoreDB","CartReview","_s","cart","setCart","address","setAddress","phone","setPhone","delivery","setDelivery","total","setTotal","grandTotal","removeItem","productKey","console","log","newRemoveCart","filter","pd","keys","getSavedDataFromLS","itemKeys","Object","cartProducts","map","key","product","find","fd","quantity","handleClick","docRef","orders","id","e","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Group","Label","Control","type","placeholder","onChange","target","value","as","rows","size","block","onClick","foodsToReview","_c","$RefreshReg$"],"sources":["/Users/rohanchaudhari/Downloads/react-red-onion-restaurant-master/src/components/CartReview/CartReview.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  getDatabaseCart,\n  removeFromDatabaseCart,\n} from \"../../utilities/databaseManager\";\nimport demoData from \"../../demoData\";\nimport CartReviewItem from \"../CartReviewItem/CartReviewItem\";\nimport CartHidden from \"../CartHidden/CartHidden\";\nimport { Form,Button } from \"react-bootstrap\";\nimport { collection, addDoc } from \"firebase/firestore\";\nimport fireStoreDB from \"../../firebase\";\n\nconst CartReview = () => {\n  const [cart, setCart] = useState([]);\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [delivery, setDelivery] = useState(\"\");\n  const [total, setTotal] = useState(grandTotal);\n\n\n  const removeItem = (productKey) => {\n    console.log(\"removed\", productKey);\n    const newRemoveCart = cart.filter((pd) => pd.keys !== productKey);\n    setCart(newRemoveCart);\n    removeFromDatabaseCart(productKey);\n  };\n  useEffect(() => {\n    //useEffect here to load data from local storage\n    const getSavedDataFromLS = getDatabaseCart();\n    const itemKeys = Object.keys(getSavedDataFromLS);\n    //retrive ls data key and match with demoData key\n    //find all matches and get data\n    const cartProducts = itemKeys.map((key) => {\n      const product = demoData.find((fd) => fd.keys === key);\n      // console.log(product)\n      product.quantity = getSavedDataFromLS[key];\n      return product;\n    });\n    setCart(cartProducts);\n  }, []);\n\n  const handleClick = async () => {\n    try {\n      const docRef = await addDoc(collection(fireStoreDB, \"orders\"), {\n        address,\n        phone,\n        delivery,\n        orders: cart,\n        total,  \n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  }\n\n  return (\n    <div className=\"container py-5\">\n      {/* <div className=\"float-left\">\n      {cart.map((pd) => (\n        <CartReviewItem\n          removeItem={removeItem}\n          foodsToReview={pd}\n        ></CartReviewItem>\n      ))}\n     </div>\n     <div className=\"float-right\">\n       <CartHidden cart={cart}></CartHidden>\n     </div> */}\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <Form>\n            <Form.Group>\n              <Form.Label>Address</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Budhwarpeth\"  onChange={(e)=>setAddress(e.target.value)}/>\n              <Form.Label>Phone</Form.Label>\n              <Form.Control type=\"number\" placeholder=\"088\" onChange={(e)=>setPhone(e.target.value)}/>\n              <Form.Label>Delivery Details</Form.Label>\n              <Form.Control as=\"textarea\" rows=\"3\" onChange={(e)=>setDelivery(e.target.value)}/>\n            </Form.Group>\n            <Button className=\"btn btn-danger\" size=\"lg\" block onClick={()=>handleClick()}>Save & Continue</Button>\n          </Form>\n        </div>\n        <div className=\"col-md-5\">\n          {\n             <div>\n               <div className=\"\">\n             {cart.map((pd) => (\n               <CartReviewItem\n                 removeItem={removeItem}\n                 foodsToReview={pd}\n               ></CartReviewItem>\n             ))}\n            </div>\n             </div>\n          }\n        </div>\n        <div className=\"col-md-3\">\n              <CartHidden cart={cart}></CartHidden>\n            </div> \n      </div>\n    </div>\n  );\n};\n\nexport default CartReview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}